@model IEnumerable<dynamic>

@{
    ViewData["Title"] = "My Queues";
}

<h1>My Active Queues</h1>
<p class="lead">Track your position in all queues you've joined</p>

<div class="row mt-4">
    <div class="col-md-12">
        <!-- Active Queues -->
        <h3>Currently Waiting</h3>
        
        <div class="card mb-3">
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-md-4">
                        <h5 class="card-title">Joe's Pizza</h5>
                        <p class="card-text text-muted">Main Dining Queue</p>
                    </div>
                    <div class="col-md-4">
                        <p class="mb-1"><strong>Your Position:</strong> #8</p>
                        <p class="mb-1"><strong>People Ahead:</strong> 7</p>
                        <p class="mb-1"><strong>Est. Wait:</strong> 35 minutes</p>
                    </div>
                    <div class="col-md-4 text-end">
                        <a href="#" class="btn btn-primary mb-2">View Position</a><br />
                        <button class="btn btn-outline-danger btn-sm">Leave Queue</button>
                    </div>
                </div>
                <div class="progress mt-3" style="height: 25px;">
                    <div class="progress-bar" role="progressbar" style="width: 33%;" aria-valuenow="33" aria-valuemin="0" aria-valuemax="100">
                        Position 8 of 12
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-3">
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-md-4">
                        <h5 class="card-title">City Clinic</h5>
                        <p class="card-text text-muted">Walk-in Queue</p>
                    </div>
                    <div class="col-md-4">
                        <p class="mb-1"><strong>Your Position:</strong> #3</p>
                        <p class="mb-1"><strong>People Ahead:</strong> 2</p>
                        <p class="mb-1"><strong>Est. Wait:</strong> 10 minutes</p>
                    </div>
                    <div class="col-md-4 text-end">
                        <a href="#" class="btn btn-primary mb-2">View Position</a><br />
                        <button class="btn btn-outline-danger btn-sm">Leave Queue</button>
                    </div>
                </div>
                <div class="progress mt-3" style="height: 25px;">
                    <div class="progress-bar bg-success" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                        Position 3 of 8
                    </div>
                </div>
                <div class="alert alert-success mt-3 mb-0">
                    <strong>Almost there!</strong> You're near the front of the line. Please be ready.
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-md-12">
        <h3>Queue History</h3>
        <table class="table table-sm">
            <thead>
                <tr>
                    <th>Company</th>
                    <th>Queue</th>
                    <th>Joined</th>
                    <th>Served</th>
                    <th>Wait Time</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Brew & Bean Caf√©</td>
                    <td>Morning Rush</td>
                    <td>Nov 7, 9:15 AM</td>
                    <td>Nov 7, 9:30 AM</td>
                    <td>15 min</td>
                    <td><span class="badge bg-success">Served</span></td>
                </tr>
                <tr>
                    <td>Downtown Barbershop</td>
                    <td>Main Queue</td>
                    <td>Nov 6, 2:00 PM</td>
                    <td>Nov 6, 2:45 PM</td>
                    <td>45 min</td>
                    <td><span class="badge bg-success">Served</span></td>
                </tr>
                <tr>
                    <td>Quick Burgers</td>
                    <td>Lunch Line</td>
                    <td>Nov 5, 12:30 PM</td>
                    <td>-</td>
                    <td>-</td>
                    <td><span class="badge bg-secondary">Left Queue</span></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="row mt-3">
    <div class="col-md-12">
        <div class="alert alert-info">
            <strong>Notifications:</strong> Make sure your email and phone notifications are enabled to receive updates about your queue position.
        </div>
    </div>
</div>
